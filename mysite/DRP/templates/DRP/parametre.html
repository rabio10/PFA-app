{% extends 'DRP/DRP_app.html' %}
{% block content2 %}
<!-- Nav tabs -->
<ul class="nav nav-tabs " id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
  <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Paramètre de l'entrepôt centrale</button>
  </li>
  <li class="nav-item" role="presentation">
  <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Ajouter Dépôt</button>
  </li>
  <li class="nav-item" role="presentation">
  <button class="nav-link" id="messages-tab" data-bs-toggle="tab" data-bs-target="#messages" type="button" role="tab" aria-controls="messages" aria-selected="false">Supprimer Dépôt</button>
  </li>
</ul>

<!-- Tab panes -->
{% if submitted_entrepot %}
<div class="container center">
  <div class="justify-content-center px-5 mx-5 py-1 rounded ">
    <div class="justify-content-center px-5 mx-5 py-2 rounded">

      <div class="alert alert-success d-flex align-items-center alert-dismissible fade show" role="alert" style="height: 50px;" >
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill m-1" viewBox="0 0 16 16">
          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
        </svg>
        <div>
            Les données de l'entrepôt centrale ont été mises à jour avec succès.
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

    </div>
  </div>
</div>
{% endif %}
{% if submitted_depot %}
<div class="container center">
  <div class="justify-content-center px-5 mx-5 py-1 rounded ">
    <div class="justify-content-center px-5 mx-5 py-2 rounded">

                <div class="alert alert-success d-flex align-items-center alert-dismissible fade show" role="alert" style="height: 50px;" >
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill m-1" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                  </svg>
                  <div>
                    Dépôt ajoutée avec succès !
                  </div>
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>

    </div>
  </div>
</div>
{% endif %}
{% if submitted_delete_depot %}
<div class="container center">
  <div class="justify-content-center px-5 mx-5 py-1 rounded ">
    <div class="justify-content-center px-5 mx-5 py-2 rounded">

              <div class="alert alert-success d-flex align-items-center alert-dismissible fade show" role="alert" style="height: 50px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill m-1" viewBox="0 0 16 16">
                  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                </svg>
                <div>
                  Dépôt supprimée avec succès !
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>

    </div>
  </div>
</div>
{% endif %}

<!-- Tab panes -->
<div class="tab-content">
  <div class="tab-pane active" id="home" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
    <div class="container center">
      <div class="justify-content-center px-5 mx-5 py-1 rounded ">
        <!--content 1-->
        <div id="centralwarehouse" class="justify-content-center px-5 mx-5 py-2 rounded">
          <h3>Paramètre de l'entrepôt centrale</h3>
          <!--ici la debut de formulaire de l'entrepot centrale-->
          <div class="form-group">
              
              <form action="" method="POST">
                {% csrf_token %}
                {{ form_entrepot.as_p }}
                <input type="hidden" name="form_type" value="entrepot">
                <input type="submit" value="Modifier" class="btn btn-primary">
              </form>
          </div>
        </div> 
        <!--end content 1-->
      </div>
    </div>
  </div>
  <div class="tab-pane" id="profile" role="tabpanel" aria-labelledby="profile-tab" tabindex="1">
    <div class="container center">
      <div class="justify-content-center px-5 mx-5 py-1 rounded ">
        <!--content 2-->
        <div id="depots" class="justify-content-center px-5 mx-5 rounded" >
          <div class="depot">
            <h3>Ajouter Dépôt</h3>
            <div class="form-group">
              
              
              <form action="" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form_depot.as_p }}
                <input type="hidden" name="form_type" value="depot">
                <input type="submit" value="+ Ajouter Dépôt" class="btn btn-success">
              </form>
            </div>
            
          </div>
        </div>
        <!--end content 2-->
      </div>
    </div>
  </div>
  <div class="tab-pane" id="messages" role="tabpanel" aria-labelledby="messages-tab" tabindex="2">
    <div class="container center">
      <div class="justify-content-center px-5 mx-5 py-1 rounded ">
        <!--content 3-->
        <!--form to choose to delete-->
        <div id="depots" class="justify-content-center px-5 mx-5 rounded" >
          <div class="depot">
            <h3>Supprimer Dépôt</h3>
            <div class="form-group">
              
              <form action="" method="POST">
                {% csrf_token %}
                {{ form_delete_depot.as_p }}
                <input type="hidden" name="form_type" value="delete_depot">
                <input type="submit" value="Supprimer" class="btn btn-danger">
              </form>
            </div>
          </div>
          <!--end form to choose to delete-->
        <div class="justify-content-center px-5 mx-5 py-2 rounded" >
          <h3>Liste des Dépôts  </h3>
          <!--ici la debut de liste des depot dans des cards-->
          {% for depot in depots_list %}
          <div class="card text-bg-light mb-3">
            <div class="card-header">Nom de Dépôt : {{ depot.nom_depot }}</div>
            <div class="card-body">
              <h6>Ville : {{ depot.adresse_depot }}</h6>
              <h6>Stock Disponible : {{ depot.stock_depot }}</h6>
            </div>
          </div>
          {% endfor %}
          <!--ici la fin de liste des depot dans des cards-->
        </div>
        
        <!--end content 3-->
      </div>
    </div>
  </div>
</div>

  


{% endblock %}